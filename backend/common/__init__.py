"""Common package initialization"""
from .models import (
    DataBase,
    AuthBase,
    QueueBase,
    Course,
    StudentCourseData,
    TeacherCourseData,
    AvailableTag,
    Student,
    Teacher,
    Admin,
    RefreshToken,
    RegistrationCode,
    ResetCode,
    SystemSettings,
    QueueTask,
)
from .schemas import (
    CourseCreate,
    CourseUpdate,
    CourseResponse,
    CourseSelectionRequest,
    CourseSelectionData,
    StudentCreate,
    StudentResponse,
    TeacherCreate,
    TeacherResponse,
    UserCreate,
    UserLogin,
    User2FA,
    UserResponse,
    AdminResponse,
    TokenResponse,
    RefreshTokenResponse,
    AccessTokenResponse,
    QueueTaskResponse,
    RegistrationCodeCreate,
    RegistrationCodeResponse,
    BulkRegistrationCodeResponse,
    ResetCodeCreate,
    ResetCodeResponse,
    AdminLogin,
    QueueTaskSubmit,
    QueueTaskStatus,
    AdminCreate,
    SystemSettingsResponse,
    SystemSettingsUpdate,
    PasswordChangeRequest,
    TwoFASetupRequest,
    TwoFAVerifyRequest,
    TwoFADisableRequest,
)
from .security import (
    verify_password,
    get_password_hash,
    create_access_token,
    create_refresh_token,
    decode_token,
    generate_totp_secret,
    verify_totp,
    get_totp_uri,
    generate_registration_code,
    generate_reset_code,
    hash_token,
    generate_internal_token,
)
from .database import (
    get_database_url,
    create_db_engine,
    create_session_factory,
    get_db_session,
    init_database,
)
from .rate_limiter import (
    TokenBucket,
    RateLimiter,
    IPRateLimiter,
    course_selection_limiter,
    api_limiter,
)
from .utils import (
    verify_internal_token,
    get_current_user_from_token,
    verify_user_type,
    get_request_headers,
    call_service_api,
)
from .auth_helpers import (
    get_user_by_username,
    get_user_by_id,
    get_user_id,
    get_user_type,
    has_2fa,
    get_totp_secret,
    set_totp_secret,
    is_active,
)
from .socket_transport import (
    SocketTransport,
    SocketClient,
    get_socket_config,
    create_socket_server_config,
    create_dual_server_config,
)

__all__ = [
    # Models and Bases
    "DataBase",
    "AuthBase",
    "QueueBase",
    "Course",
    "StudentCourseData",
    "TeacherCourseData",
    "AvailableTag",
    "Student",
    "Teacher",
    "Admin",
    "RefreshToken",
    "RegistrationCode",
    "ResetCode",
    "SystemSettings",
    "QueueTask",
    # Schemas
    "CourseCreate",
    "CourseUpdate",
    "CourseResponse",
    "CourseSelectionRequest",
    "CourseSelectionData",
    "StudentCreate",
    "StudentResponse",
    "TeacherCreate",
    "TeacherResponse",
    "UserCreate",
    "UserLogin",
    "User2FA",
    "UserResponse",
    "AdminResponse",
    "TokenResponse",
    "RefreshTokenResponse",
    "AccessTokenResponse",
    "RegistrationCodeCreate",
    "RegistrationCodeResponse",
    "BulkRegistrationCodeResponse",
    "ResetCodeCreate",
    "ResetCodeResponse",
    "QueueTaskResponse",
    "AdminLogin",
    "QueueTaskSubmit",
    "QueueTaskStatus",
    "AdminCreate",
    "SystemSettingsResponse",
    "SystemSettingsUpdate",
    "PasswordChangeRequest",
    "TwoFASetupRequest",
    "TwoFAVerifyRequest",
    "TwoFADisableRequest",
    # Security
    "verify_password",
    "get_password_hash",
    "create_access_token",
    "create_refresh_token",
    "decode_token",
    "generate_totp_secret",
    "verify_totp",
    "get_totp_uri",
    "generate_registration_code",
    "generate_reset_code",
    "hash_token",
    "generate_internal_token",
    # Database
    "get_database_url",
    "create_db_engine",
    "create_session_factory",
    "get_db_session",
    "init_database",
    # Rate limiting
    "TokenBucket",
    "RateLimiter",
    "IPRateLimiter",
    "course_selection_limiter",
    "api_limiter",
    # Utils
    "verify_internal_token",
    "get_current_user_from_token",
    "verify_user_type",
    "get_request_headers",
    "call_service_api",
    # Auth helpers
    "get_user_by_username",
    "get_user_by_id",
    "get_user_id",
    "get_user_type",
    "has_2fa",
    "get_totp_secret",
    "set_totp_secret",
    "is_active",
    # Socket transport
    "SocketTransport",
    "SocketClient",
    "get_socket_config",
    "create_socket_server_config",
    "create_dual_server_config",
]
